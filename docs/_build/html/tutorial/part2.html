
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>uAdmin Tutorial Part 2 &#8212; uadmin 0.1.0-a.1 documentation</title>
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Documentation" href="../api.html" />
    <link rel="prev" title="uAdmin Tutorial Part 1" href="part1.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../api.html" title="API Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="part1.html" title="uAdmin Tutorial Part 1"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">uadmin 0.1.0-a.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="uadmin-tutorial-part-2">
<h1>uAdmin Tutorial Part 2<a class="headerlink" href="#uadmin-tutorial-part-2" title="Permalink to this headline">¶</a></h1>
<p>Assume that you have created your first application in main.go. In this part, we will build a go file inside the model folder.</p>
<div class="section" id="creating-a-model">
<h2>Creating a model<a class="headerlink" href="#creating-a-model" title="Permalink to this headline">¶</a></h2>
<p>Create a file named category.go inside your models folder, containing the following codes below.</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">models</span>

<span class="kn">import</span> <span class="s">&quot;github.com/uadmin/uadmin&quot;</span>

<span class="c1">// Category model ...</span>
<span class="kd">type</span> <span class="nx">Category</span> <span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Model</span>
        <span class="nx">Name</span> <span class="kt">string</span>
        <span class="nx">Icon</span> <span class="kt">string</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Category Model User Interface</p>
<img alt="../_images/categorymodeldesign.png" src="../_images/categorymodeldesign.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Now connect the category model into the main.go by calling the (folder_name).(struct_name){} inside the uadmin.Register.</p>
<p>Copy this code below</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="nx">models</span><span class="p">.</span><span class="nx">Category</span><span class="p">{},</span>
</pre></div>
</div>
<p>To the main.go</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
        <span class="s">&quot;github.com/rn1hd/todo/models&quot;</span>
        <span class="s">&quot;github.com/uadmin/uadmin&quot;</span>
<span class="p">)</span>

<span class="c1">// TODO model ...</span>
<span class="kd">type</span> <span class="nx">TODO</span> <span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Model</span>
        <span class="nx">Name</span>        <span class="kt">string</span>
        <span class="nx">Description</span> <span class="kt">string</span>   <span class="s">`uadmin:&quot;html&quot;`</span>
        <span class="nx">TargetDate</span>  <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
        <span class="nx">Progress</span>    <span class="kt">int</span> <span class="s">`uadmin:&quot;progress_bar&quot;`</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Register</span><span class="p">(</span>
                <span class="nx">TODO</span><span class="p">{},</span>
                <span class="nx">models</span><span class="p">.</span><span class="nx">Category</span><span class="p">{},</span> <span class="c1">// &lt;-- place it here</span>
        <span class="p">)</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Port</span> <span class="p">=</span> <span class="mi">8000</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">StartServer</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Let’s run the code and see what happens:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/go/src/github.com/your_name/todo
$ go build<span class="p">;</span> ./firstapp
<span class="o">[</span>   OK   <span class="o">]</span>   Initializing DB: <span class="o">[</span><span class="m">10</span>/10<span class="o">]</span>
<span class="o">[</span>   OK   <span class="o">]</span>   Server Started: http://127.0.0.1:8000
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>As expected, the category model is added in the uAdmin Dashboard.</p>
<img alt="../_images/categorymodelselected.png" src="../_images/categorymodelselected.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Let’s create a new data in the category model. Press Save button below afterwards.</p>
<img alt="../_images/categorydata.png" src="../_images/categorydata.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Output</p>
<img alt="../_images/categorydataoutput.png" src="../_images/categorydataoutput.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>uAdmin has a tag feature that allows a field to change to an appropriate type. Let’s tag the Name as “required” and Icon as “image” in category.go file.</p>
<p>Copy this code below</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="nx">Name</span> <span class="kt">string</span> <span class="s">`uadmin:&quot;required&quot;`</span>
<span class="nx">Icon</span> <span class="kt">string</span> <span class="s">`uadmin:&quot;image&quot;`</span>
</pre></div>
</div>
<p>To the category.go inside the models folder</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">models</span>

<span class="kn">import</span> <span class="s">&quot;github.com/uadmin/uadmin&quot;</span>

<span class="c1">// Category model ...</span>
<span class="kd">type</span> <span class="nx">Category</span> <span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Model</span>
        <span class="nx">Name</span> <span class="kt">string</span> <span class="s">`uadmin:&quot;required&quot;`</span> <span class="c1">// &lt;-- place it here</span>
        <span class="nx">Icon</span> <span class="kt">string</span> <span class="s">`uadmin:&quot;image&quot;`</span> <span class="c1">// &lt;-- place it here</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Let’s run the code again. Go back to your category model and see what happens.</p>
<img alt="../_images/categorywithtagapplied.png" src="../_images/categorywithtagapplied.png" />
<p>As you can see, you can now browse an image file in the Icon field. The * symbol after the Name field means that one is required. Fill up the following information then press Save button afterwards.</p>
<img alt="../_images/categorydataoutputwithtag.png" src="../_images/categorydataoutputwithtag.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="nx">Icon</span> <span class="kt">string</span> <span class="s">`uadmin:&quot;image&quot;`</span>
</pre></div>
</div>
<p>Do you know what is even cooler about the Icon? In uAdmin, the image feature will not only just upload your image file but also allows you to crop your own picture through the model itself. In order to that, click the image icon highlighted below.</p>
<img alt="../_images/iconhighlighted.png" src="../_images/iconhighlighted.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Click the crop icon on the top left corner.</p>
<img alt="../_images/cropiconhighlighted.png" src="../_images/cropiconhighlighted.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>You are now set to edit mode. Click any points highlighted below then drag your mouse in order to crop/resize your image.</p>
<img alt="../_images/croppointshighlighted.png" src="../_images/croppointshighlighted.png" />
<img alt="../_images/croppedicon.png" src="../_images/croppedicon.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Once you are done, click the Crop button below and refresh the webpage to save your progress.</p>
<img alt="../_images/croppediconoutput.png" src="../_images/croppediconoutput.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="nx">Name</span> <span class="kt">string</span> <span class="s">`uadmin:&quot;required&quot;`</span>
</pre></div>
</div>
<p>What if I set the name value as empty?</p>
<img alt="../_images/namefieldempty.png" src="../_images/namefieldempty.png" />
<p>A warning message “Please fill out this field.” will display on your screen because the Name field has a “required” tag on it.</p>
<p>That is how the uAdmin tag works in this scenario. For more information about tags, click <a class="reference external" href="file:///home/dev1/go/src/github.com/uadmin/uadmin/docs/_build/html/tags.html">here</a>.</p>
<p>Let’s do some cleanup codes in the main.go. Before that, create a file named todo.go in the models folder. Move this code that I have highlighted below.</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
        <span class="s">&quot;time&quot;</span>
        <span class="s">&quot;github.com/rn1hd/todo/models&quot;</span>
        <span class="s">&quot;github.com/uadmin/uadmin&quot;</span>
<span class="p">)</span>

<span class="c1">// ------------ MOVE THIS PART OF CODE FROM HERE ------------</span>
<span class="c1">// TODO model ...</span>
<span class="kd">type</span> <span class="nx">TODO</span> <span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Model</span>
        <span class="nx">Name</span>        <span class="kt">string</span>
        <span class="nx">Description</span> <span class="kt">string</span> <span class="s">`uadmin:&quot;html&quot;`</span>
        <span class="nx">TargetDate</span>  <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
        <span class="nx">Progress</span>    <span class="kt">int</span> <span class="s">`uadmin:&quot;progress_bar&quot;`</span>
<span class="p">}</span>
<span class="c1">// ----------------------- UNTIL HERE -----------------------</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Register</span><span class="p">(</span>
                <span class="nx">TODO</span><span class="p">{},</span>
                <span class="nx">models</span><span class="p">.</span><span class="nx">Category</span><span class="p">{},</span>
        <span class="p">)</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Port</span> <span class="p">=</span> <span class="mi">8000</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">StartServer</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>To the todo.go in the models folder</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">models</span>

<span class="kn">import</span> <span class="p">(</span>
        <span class="s">&quot;time&quot;</span>
        <span class="s">&quot;github.com/uadmin/uadmin&quot;</span>
<span class="p">)</span>

<span class="c1">// ---------------- PASTE IT HERE -----------------</span>
<span class="c1">// TODO model ...</span>
<span class="kd">type</span> <span class="nx">TODO</span> <span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Model</span>
        <span class="nx">Name</span>        <span class="kt">string</span>
        <span class="nx">Description</span> <span class="kt">string</span>   <span class="s">`uadmin:&quot;html&quot;`</span>
        <span class="nx">TargetDate</span>  <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
        <span class="nx">Progress</span>    <span class="kt">int</span> <span class="s">`uadmin:&quot;progress_bar&quot;`</span>
<span class="p">}</span>
<span class="c1">// ---------------- PASTE IT HERE -----------------</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Go back to the main.go. Replace TODO{} to models.TODO{} in the uAdmin.Register. “models.” was added before TODO{} because the TODO struct is located on todo.go in the models folder.</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
        <span class="s">&quot;github.com/rn1hd/todo/models&quot;</span>
        <span class="s">&quot;github.com/uadmin/uadmin&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Register</span><span class="p">(</span>
                <span class="nx">models</span><span class="p">.</span><span class="nx">TODO</span><span class="p">{},</span> <span class="c1">// Replaced from TODO{} to models.TODO{}</span>
                <span class="nx">models</span><span class="p">.</span><span class="nx">Category</span><span class="p">{},</span>
        <span class="p">)</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Port</span> <span class="p">=</span> <span class="mi">8000</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">StartServer</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Well done! You have finished the first step in creating an external model.</p>
</div>
<div class="section" id="linking-two-models-together">
<h2>Linking two models together<a class="headerlink" href="#linking-two-models-together" title="Permalink to this headline">¶</a></h2>
<p>Let’s create a relationship between the category and todo models. In order to do that, call the struct name you wish to include on the first line and the ID with the data type on the second line in todo.go.</p>
<p>Copy this code below</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="nx">Category</span>    <span class="nx">Category</span>
<span class="nx">CategoryID</span>  <span class="kt">uint</span>
</pre></div>
</div>
<p>To the todo.go inside the models folder</p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">models</span>

<span class="kn">import</span> <span class="p">(</span>
        <span class="s">&quot;time&quot;</span>
        <span class="s">&quot;github.com/uadmin/uadmin&quot;</span>
<span class="p">)</span>

<span class="c1">// TODO model ...</span>
<span class="kd">type</span> <span class="nx">TODO</span> <span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">uadmin</span><span class="p">.</span><span class="nx">Model</span>
        <span class="nx">Name</span>        <span class="kt">string</span>
        <span class="nx">Description</span> <span class="kt">string</span>   <span class="s">`uadmin:&quot;html&quot;`</span>
        <span class="nx">Category</span>    <span class="nx">Category</span> <span class="c1">// &lt;-- place it here</span>
        <span class="nx">CategoryID</span>  <span class="kt">uint</span>     <span class="c1">// &lt;-- place it here</span>
        <span class="nx">TargetDate</span>  <span class="nx">time</span><span class="p">.</span><span class="nx">Time</span>
        <span class="nx">Progress</span>    <span class="kt">int</span> <span class="s">`uadmin:&quot;progress_bar&quot;`</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Let’s run the code again. Go back to your todo model and see what happens.</p>
<img alt="../_images/categoryaddedintodo.png" src="../_images/categoryaddedintodo.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Now you can choose which category you want to apply on the specific task. For this one let’s choose Education then click Save button afterwards.</p>
<img alt="../_images/categoryeducationapplied.png" src="../_images/categoryeducationapplied.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Output</p>
<img alt="../_images/categoryeducationappliedoutput.png" src="../_images/categoryeducationappliedoutput.png" />
<p>Well done! You have linked the category and todo models together.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="part1.html">uAdmin Tutorial Part 1</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">uAdmin Tutorial Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About uAdmin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tags.html">Tags</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="part1.html"
                        title="previous chapter">uAdmin Tutorial Part 1</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../api.html"
                        title="next chapter">API Documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tutorial/part2.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../api.html" title="API Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="part1.html" title="uAdmin Tutorial Part 1"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">uadmin 0.1.0-a.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, uadmin.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
  </body>
</html>